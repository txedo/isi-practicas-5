\section{Manual de usuario} \label{manual}

\subsection{Instalación}
La aplicación se ha desarrollado en Python y su interfaz gráfica de
usuario en GTK. Además, ésta requiere de los servicios de un servidor
MySQL. Dicho esto, el sistema en el cual se ejecutará la aplicación
debe tener instalado el siguiente software:
\begin{milista}
\item Python v2.5 o superior (\cite{Python})
\item GTK (\cite{GTK})
\item Psyco (\cite{psyco})
\item PyGTK (\cite{PyGTK})
\item MySQL (\cite{MySQL})
\item MySQLdb module for Python (\cite{python-mysqldb})
\end{milista}

Inicialmente se debe crear la base de datos que utilizará el sistema
documental. En la distribución del software se ofrece un fichero
``install'' bajo el directorio raíz, que contiene las
sentencias necesarias para crear la base de datos y sus tablas
mediante el intérprete de MySQL. Para acceder al intérprete de
su servidor MySQL escriba la siguiente sentencia en un terminal:

\begin{center} \texttt{mysql -u root -p} \end{center}

Introduzca la contraseña que configuró al instalar el servidor de MySQL y cree las tablas con el fichero comentado anteriormente. Llegados a este punto, ya tiene su sistema listo para ser utilizado, pero antes es necesario destacar que éste consiste en dos aplicaciones que pueden ser utilizadas de forma conjunta o por separado: un motor de indexación y un motor de búsqueda. Cada motor posee su propia interfaz gráfica de usuario independiente y, adicionalmente, el motor de indexación posee una interfaz basada en línea de comandos.

\subsection{Motor de indexación}
\subsubsection{Interfaz gráfica de usuario}
Para ejecutar la interfaz gráfica sitúese en el directorio
``presentación'' y ejecute la sentencia
\texttt{./indexEngineGUI.py}. A continuación se mostrará la ventana principal, tal
y como aparece en la Figura \ref{fig:index-engine-gui}. Las opciones de dicha
ventana son:
\begin{milista}
	\item \textbf{Choose a file}: esta opción sirve para indexar
          un único fichero. Al pulsar el botón, se abrirá un cuadro de
          diálogo que permitirá al usuario seleccionar el fichero deseado. 
	\item \textbf{Choose a directory}: esta opción sirve para
          indexar todos los ficheros contenidos en el directorio
          dado. Al pulsar el botón correspondiente, se abrirá un nuevo
          diálogo que permitirá al usuario elegir un directorio. 
\end{milista}

\begin{figure}[h]
	\centering
		\includegraphics[keepaspectratio, scale=0.75]{./images/gui}
	\caption{Interfaz gráfica de usuario del motor de indexación}
	\label{fig:index-engine-gui}
\end{figure} 

Una vez elegido un fichero o un directorio, basta con hacer clic en el
botón ``Start'' para que comienze la indexación, mostrando una
barra de progreso para informar al usuario del avance de la indexación de los
ficheros. 

\subsubsection{Interfaz de usuario por línea de comandos}
La aplicación además cuenta con una interfaz basada en texto que puede
invocarse desde un terminal. Una vez más, esta interfaz está contenida
en la capa de presentación del sistema (\texttt{./indexEngineCMD.py}). Para lanzarla, es necesario
proporcionarle dos parámetros, en función de la operación que queramos
realizar.
\begin{milista}
\item \texttt{[-f | --file] <ruta$\_$a$\_$un$\_$fichero>}. Para indexar un único fichero.
\item \texttt{[-d | --directory] <ruta$\_$a$\_$un$\_$directorio>}. Para indexar todos
  los ficheros alojados en un directorio
\end{milista}
Si es necesario, se puede consultar la ayuda con el parámetro ``-h'' o
``--help'' (ver Figura \ref{fig:menu-ayuda})

\begin{figure}[h]
	\centering
		\includegraphics[keepaspectratio, scale=0.55]{./images/menu-ayuda}
	\caption{Interfaz gráfica de usuario}
	\label{fig:menu-ayuda}
\end{figure}

\subsection{Motor de búsqueda}
Debido a las funcionalidades que debe cubrir esta aplicación, se proporciona una interfaz gráfica de usuario (ver Figura \ref{fig:search-engine-gui}).

\begin{figure}[h]
	\centering
		\includegraphics[keepaspectratio, scale=0.55]{./images/search-engine-gui}
	\caption{Interfaz gráfica de usuario del motor de búsqueda}
	\label{fig:menu-ayuda}
\end{figure}

En cuanto a las características de esta aplicación cabe destacar las siguientes características:
\begin{milista}
\item Se puede invocar el motor de búsqueda a partir del menú ``Tools''.
\item A la hora de realizar una búsqueda podemos configurar los pesos que deseamos dar a cada término. Por defecto, cada término tendrá peso 1, que es el máximo que puede tener, de modo que si queremos quitarle importancia a un término debemos indicarle un peso entre 0 y 1 mediante su barra deslizante correspondiente. Otra característica importante del sistema es que nos permitirá configurar los pesos sobre los térmios que realmente formarán parte de la pregunta, ignorando \textit{stopwords} y parseando el texto (ver Figura \ref{fig:custom-weights}).
\begin{figure}[h]
	\centering
		\includegraphics[keepaspectratio, scale=0.55]{./images/custom-weights}
	\caption{Configurando los pesos a los términos parseados de una pregunta e ignorando stopwords}
	\label{fig:menu-ayuda}
\end{figure}
\item Una vez que hemos realizado una búsqueda es posible ordenar los documentos por relevancia (orden por defecto) o por nombre. Además, si hacemos doble clic sobre un documento o lo seleccionamos y presionamos la tecla ENTER, emergerá una ventana mostrándonos su contenido.
\item También podemos buscar documentos similares al documento que tengamos seleccionado. Para ello haremos uso del botón ``Find similars''.
\item Por último, los resultados tambien pueden ser visualizados en el navegador configurado por defecto en el sistema. Para ello haremos uso del boton ``Show XML''.
\end{milista}